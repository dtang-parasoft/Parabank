<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Avoid invoking 'toString()' on array variables [PB.CUB.TOS]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Avoid invoking 'toString()' on array variables [PB.CUB.TOS]
</STRONG>
<p>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

This rule identifies that toString() is invoked on an array variable.
An error is reported for each occurrence.



</PRE>
<STRONG>
SCOPE LEVEL
</STRONG>
<PRE>
LINE



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v8.2



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Invoking toString() on an array variable will return an unreadable string e.g [C@16f0472.
We consider this is a typo because user should toString() the element of the array instead
of toString() the array.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

package examples.rules.pb.cub;

public class TOS {

    private String[] array;
    
    public String toString() {
        return array.toString();  // VIOLATION
    }
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

Use Arrays.toString() to return elements in the array variables

package examples.rules.pb.cub;

import java.util.*;

public class TOSFixed {

    private String[] array;
    
    public String toString() {
        return Arrays.toString(array);  // FIXED
    }
}


</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

<A HREF="http://developer.android.com/guide/practices/design/performance.html">http://developer.android.com/guide/practices/design/performance.html</A>

</PRE>
</BODY>
</HTML>
