<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Declare "final" fields with a known compile time value as "static" [OPT.NSF]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Declare "final" fields with a known compile time value as "static" [OPT.NSF]
</STRONG>
<p>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

This rule identifies fields that are declared as "final" but not "static"
and have values that are known at compile time; these fields should be 
declared as "static" fields because the values of the fields are the same 
in all objects created from that class. An error is reported for each 
occurrence.


</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

V6.0


</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

The "Quickfix All" feature is not available for this rule because
there are some cases where quickfixing the violation is impossible.
For instance, there is no quickfix if the "this" keyword is contained
within the initializer since changing the field to "static" would
cause a compilation error in this case.


</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Mobile platforms have reduced resources, optimizations are especially important.

Fields that are declared as "final", but have values that are known at 
compile time should only be held as a single copy in the memory. 
Duplicating them every time the class is instantiated would adversely 
affect the performance.


</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

package examples.rules.opt;

public class NSF {
    final int magicNumber= 0; //VIOLATION
}


</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

package examples.rule.opt;

public class NSFFixed {
    static final int magicNumber= 0; //FIXED
}


</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

<A HREF="http://developer.android.com/guide/practices/design/performance.html">http://developer.android.com/guide/practices/design/performance.html</A>

</PRE>
</BODY>
</HTML>
