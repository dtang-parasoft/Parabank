<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Do not get the 'Class' object through new object instantiation [OPT.AGC]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Do not get the 'Class' object through new object instantiation [OPT.AGC]
</STRONG>
<p>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

This rule identifies code where a "Class" object is obtained
by invoking 'getClass()' and temporarily creating an object
instance. An error is reported for each occurrence.


</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v6.0


</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Mobile platforms have reduced resources, optimizations are especially important.

'getClass()' should be invoked only if it is necessary to
get a class of runtime objects. It is not efficient to create
a temporary object instance and use it solely for getting
its 'Class' object. In this case, the class is already known,
so it is better to directly access the static field 'class' 
of the object.


</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

package examples.rules.opt;

public class AGC {
    Class objectClass= new Object().getClass(); //VIOLATION
}


</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>
package examples.rules.opt;

public class AGCFixed {
    Class objectClass= Object.class; //FIXED
}


</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

<A HREF="http://developer.android.com/guide/practices/design/performance.html">http://developer.android.com/guide/practices/design/performance.html</A>

</PRE>
</BODY>
</HTML>
