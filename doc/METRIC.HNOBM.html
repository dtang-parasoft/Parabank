<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Halstead Number of Bugs [METRIC.HNOBM]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Halstead Number of Bugs [METRIC.HNOBM]
</STRONG>
<p>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

This metric is a Halstead complexity measure.
The original purpose of this metrics is to define how many bugs can be delivered, 
but it should be used especially for defect prediction. This rule may help optimize 
the work of testers and programmers to focus on problematic system parts rather than 
the evaluation of the quality of the code.

The Number Of Bugs metric is described by the following formula:

B = E^(2/3) / 3000

Where:
E is the Halstead Effort that is fully described in a separate rule "see Halstead Effort (METRIC.HEFM)" 


</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v10.2.2


</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

public class Foo
{
    // Operators: {} (3x), () (3x), if (2x), &lt;, throw, new, ==, return (2x), *, -
    // N1=16 (all), n1=10 (distinct)
    // Operands: long (2x), Factorial (2x), n (5x), ArgumentException,
    // "Factorial is not defined for negative numbers", 0 (2x), 1 (2x)
    // N2=15 (all), n2=7 (distinct)
    // Ignored: () (2x in context of if-statement), ; (3x)

    long Factorial(long n)
    {
        if (n &lt; 0)
        {
            throw new IllegalArgumentException("Factorial is not defined for negative numbers");
        }

        if (n == 0)
        {
            // By definition, 0! is 1
            return 1;
        }

        return n * Factorial(n - 1);
    }
}

Metric value: ~0.04

</PRE>
</BODY>
</HTML>
